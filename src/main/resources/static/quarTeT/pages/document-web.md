# quarTeT: Telomere-to-telomere Toolkit
quarTeT is a collection of tools for T2T genome assembly and basic analysis in automatic workflow.

Task include:
- [AssemblyMapper](#AssemblyMapper): reference-guided genome assembly
- [GapFiller](#GapFiller): long-reads based gap filling
- [CentroMiner](#CentroMiner): centromere candidate prediction
- [TeloExplorer](#TeloExplorer): telomere identification

## Getting Started
quarTeT can be easily accessed via our web server.  
Hover your mouse on Tools tab at the top of the page, and click corresponding module to start.

## General
All modules have a similar structure.

### Uploading Data
You can drag or click to upload files.  

If you access quarTeT from [443(https) port](https://atcgn.com/quarTeT/pages/home.html), uploading may be slow.   
Access quarTeT from [8080 port](http://atcgn.com:8080/quarTeT/pages/home.html) may accel uploading.

### Setting Algorithm Parameters
We have set default paramater which may solve most data.   
If you are unsure of these parameter, just try default. You can click `reset` at the bottom right to get back default parameter.

Some paramater with bar can only switch in a window. However, you can directly input in box at the right. You will receive a warning if input is too large or small.

### Submit Task and Access Result
Click `Run` at the bottom right to submit task.   
If all checking pass, you will be asked to leave your e-mail. Once task is completed, we will send you the task query ID.   
You can access your result from top of home page via query ID.  

Some task may be processed with warning messages, you can check them at the top right of result page.  

Click download icon/buttom will open a new page. If download dialog doesn't pop up, right click the page and select `Save as ...` to download.  

For plots, you can click the magnifier icon beside the plot to enlarge it.   
For statistic tables, you can drag to resize tabs.

## AssemblyMapper
AssemblyMapper is a reference-guided assemble tool.

### Uploading Sequence
You should upload 2 files in this section.
- Reference genome (FASTA format)  
  a high-quality genome of close-related species.
- Contigs (FASTA format)  
  A haplotype-resolved contig-level assembly.  
  It's recommended to obtain such an assembly using [hifiasm](https://github.com/chhylp123/hifiasm).  
  you can convert `{prefix}.bp.hap1.p_ctg.gfa` and `{prefix}.bp.hap2.p_ctg.gfa` generated by hifiasm to FASTA format as input, separately.

### Setting Algorithm Parameters
5 parameters is availble on web for this module.
- Min Contigs Length  
  Contigs shorter than INT (bp) will be removed, default: 50000
- Min Alignment Length  
  The min alignment length to be select (bp), default: 10000
- Min Alignment Identity  
  The min alignment identity to be select (%), default: 90
- Plot  
  Plot a colinearity graph for draft genome to reference alignments. (will cost more time)
- Filename  
  The name (prefix) used on your generated files. Default: quarTeT

### Result
- Genome overview  
  This plot gives an overview of the genome relative length and gap distribution.
- Colinearity plot  
  This plot gives colinearity information which decided contig placement.   
  If `Plot` option is turned on, there will be another plot showing colinearity between assembled genome and reference.
- Genome statistic  
  This table gives the length and gap location of each chromosome. Genome total size and GC content are given above the table.
- Alignment information  
  This table gives the destination of each contig. Total discarded size are given above the table.
- Download  
  Click `Download Assembly` buttom to get the assembled genome.  
  Click `Download AGP` to get the detailed assembly information.

## GapFiller
GapFiller is a long-reads based gapfilling tool.

### Uploading Sequence
You should upload at least 2 files in this section.
- Genome (FASTA format)  
  a gap-tied genome which you want to fill.
- Gap closer sequences (FASTA format, multiple files allowed)  
  Sequence of the same genome generated by different platform or methods.  
  Long reads are acceptable, but contig-level assembly may achieve better result.

### Setting Algorithm Parameters
5 parameters is availble on web for this module.
- Min Alignment Length  
  The min alignment length to be select (bp), default: 1000
- Min Alignment Identity  
  The min alignment identity to be select, default: 40
- Flanking Sequence Length  
  The flanking sequence length besides gap which are used to anchor (bp), default: 5000
- Max Filling Length  
  The max sequence length acceptable to fill any gaps, default: 1000000
- Filename  
  The name (prefix) used on your generated files. Default: quarTeT

### Result
- Genome overview  
  This plot gives an overview of the genome relative length and remaining gap distribution.
- Genome statistic  
  This table gives the length and gap remaining location of each chromosome. Genome total size and GC content are given above the table.
- Gap filling detail  
  This table gives information about how the gaps are closed. Gap closed/remaining count and total filled length are given above the table.
- Download genome  
  Click `Download Genome` buttom to get the gap-filled genome.  

## CentroMiner
CentroMiner is a centromere prediction tool.

### Uploading Files
You should upload at least 1 file in this section.
- Genome (FASTA format)  
  The genome you want to predict centromere.
- TE annotation (optional, GFF3 format)  
  TE annotation, or just LTR annotation of this genome.  
  This file is optional. CentroMiner can run without it, but may improve performance with it.  
  It's recommended to obtain TE annotation using [EDTA](https://github.com/oushujun/EDTA).  
  `{genome file}.mod.EDTA.TEanno.gff3` generated by EDTA can directly feed CentroMiner, unless you have sequence ID longer than 15 characters.  
  Note that the sequence ID in first column should be consistent with in genome. Some tools may change sequence ID if ID is too long.  
  The sequence ontology in the third column should include "LTR" to be recognized.

### Setting Algorithm Parameters
4 parameters is availble on web for this module.
- Period  
  Period (monomer length) range to be consider as centromere repeat monomer. Default: 100~200
- Max Gap  
  Max allowed gap size between two tandem repeats to be considered as in one tandem repeat region. Default: 50000
- Min Length  
  Min size of tandem repeat region to be selected as candidate. Default: 100000
- Filename  
  The name (prefix) used on your generated files. Default: quarTeT

### Result
- Centromere overview  
  This plot gives an overview of the genome relative length and predicted best centromere location alongside gap distribution.
- Centromere candidates statistic  
  This table gives the location and detailed information of best centromere candidate for each chromosome.  
  Click `>` at the left will expand a secondory table of main monomer information.
  Click `Show More` at the right will open a sub table of other candidates for this chromosome.
- Download  
  Click `Download candidates data` to get an archive of all centromere candidates information for each chromosome. This is the same as the table in `Show More`.  
  Click `Download TR annotation` to get an archive of all tandem repeat annotation for each chromosome.
  Click `Download TR sequence` to get an archive of all tandem repeat monomer sequence.

## TeloExplorer
TeloExplorer is a telomere identification tool.

### Uploading Genome
You should upload 1 file in this section.
- Genome (FASTA format)  
  The genome you want to identify telomere.

### Setting Algorithm Parameters
3 parameters is availble on web for this module.
- Min Repeat Times    
  The minimal telomeric repeat times to be reported as telomere, default: 100
- Clade  
  Specify clade of this genome. Plant will search TTTAGGG, animal will search TTAGGG, other will use tidk explore's suggestion, default: other
- Filename  
  The name (prefix) used on your generated files. Default: quarTeT

### Result
- Telomere overview  
  This plot gives an overview of the genome relative length and telomere location alongside gap distribution.
- Telomere statistic  
  This table gives the telomere repeat times of each chromosome at each end. Telomere repeat monomer and total telomere found are given above the table.

## Citation
Not published yet.